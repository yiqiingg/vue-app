{"remainingRequest":"/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/babel-loader/lib/index.js!/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/yiqing/Downloads/vue-test/redo-mapbox-app/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/yiqing/Downloads/vue-test/redo-mapbox-app/src/App.vue","mtime":1632782812476},{"path":"/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/cache-loader/dist/cjs.js","mtime":1632429635085},{"path":"/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/babel-loader/lib/index.js","mtime":1632429635042},{"path":"/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/cache-loader/dist/cjs.js","mtime":1632429635085},{"path":"/Users/yiqing/Downloads/vue-test/redo-mapbox-app/node_modules/vue-loader/lib/index.js","mtime":1632429636569}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMveWlxaW5nL0Rvd25sb2Fkcy92dWUtdGVzdC9yZWRvLW1hcGJveC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3RvQ29uc3VtYWJsZUFycmF5IjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy95aXFpbmcvRG93bmxvYWRzL3Z1ZS10ZXN0L3JlZG8tbWFwYm94LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIHRpbGVzZXRpZDsKdmFyIE1ZX0FDQ0VTU19UT0tFTiA9ICdzay5leUoxSWpvaWVXbHhhVzVuWjJkbklpd2lZU0k2SW1OcmRIaG1hM1ppWXpCck1YUXliblJvZW1Ga09UbGhNVzRpZlEuRmUwWGh2WUtzYzVBOU1tRTh4RDdPUSc7Cgp2YXIgbWJ4VXBsb2FkcyA9IHJlcXVpcmUoJ0BtYXBib3gvbWFwYm94LXNkay9zZXJ2aWNlcy91cGxvYWRzJyk7Cgp2YXIgbWJ4Q2xpZW50ID0gcmVxdWlyZSgnQG1hcGJveC9tYXBib3gtc2RrJyk7Cgp2YXIgYmFzZUNsaWVudCA9IG1ieENsaWVudCh7CiAgYWNjZXNzVG9rZW46IE1ZX0FDQ0VTU19UT0tFTgp9KTsKdmFyIHVwbG9hZHNDbGllbnQgPSBtYnhVcGxvYWRzKGJhc2VDbGllbnQpOyAvLyBsZXQgdXBsb2FkSWQ7CgppbXBvcnQgbWFwYm94Z2wgZnJvbSAnbWFwYm94LWdsJzsKCnZhciBBV1MgPSByZXF1aXJlKCdhd3Mtc2RrJyk7CgptYXBib3hnbC5hY2Nlc3NUb2tlbiA9ICdway5leUoxSWpvaWVXbHhhVzVuWjJkbklpd2lZU0k2SW1OcmRIa3dNMncxY1RKNWRXZ3lkbkJ0ZFd4NE1YRmxOM0VpZlEuV29TejJabi1oN1NrZERtb3V4QzBYUSc7CmltcG9ydCBTaGFwZWZpbGVUYWJsZSBmcm9tICdAL2NvbXBvbmVudHMvU2hhcGVmaWxlVGFibGUudnVlJzsKaW1wb3J0IFNoYXBlZmlsZUZvcm0gZnJvbSAnQC9jb21wb25lbnRzL1NoYXBlZmlsZUZvcm0udnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhcHAnLAogIGNvbXBvbmVudHM6IHsKICAgIFNoYXBlZmlsZUZvcm06IFNoYXBlZmlsZUZvcm0sCiAgICBTaGFwZWZpbGVUYWJsZTogU2hhcGVmaWxlVGFibGUKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaGFwZWZpbGU6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgY3JlYXRlTWFwczogZnVuY3Rpb24gY3JlYXRlTWFwcyhuZXdTaGFwZWZpbGVJZCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBtYXA7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2cobmV3U2hhcGVmaWxlSWQpOwogICAgICAgICAgICAgICAgbWFwID0gbmV3IG1hcGJveGdsLk1hcCh7CiAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogJ21hcC1jb21wb25lbnQnLAogICAgICAgICAgICAgICAgICAvLyBjb250YWluZXIgSUQKICAgICAgICAgICAgICAgICAgc3R5bGU6ICdtYXBib3g6Ly9zdHlsZXMvbWFwYm94L3N0cmVldHMtdjExJywKICAgICAgICAgICAgICAgICAgLy8gc3R5bGUgVVJMCiAgICAgICAgICAgICAgICAgIGNlbnRlcjogWy0xMjIuMjcyNzgxLCAzNy44NzE2NjZdLAogICAgICAgICAgICAgICAgICAvLyBzdGFydGluZyBwb3NpdGlvbiBbbG5nLCBsYXRdCiAgICAgICAgICAgICAgICAgIHpvb206IDE1IC8vIHN0YXJ0aW5nIHpvb20KCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIG1hcC5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgbWFwLmFkZFNvdXJjZSgncGFya3MnLCB7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZlY3RvcicsCiAgICAgICAgICAgICAgICAgICAgdXJsOiAibWFwYm94Oi8veWlxaW5nZ2dnLm15VGlsZXNldDIiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBtYXAuYWRkTGF5ZXIoewogICAgICAgICAgICAgICAgICAgIGlkOiAncGFya3MnLAogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJywKICAgICAgICAgICAgICAgICAgICBzb3VyY2U6ICdwYXJrcycsCiAgICAgICAgICAgICAgICAgICAgJ3NvdXJjZS1sYXllcic6ICJKTUxRIFVQTE9BRDEiLAogICAgICAgICAgICAgICAgICAgIGxheW91dDogewogICAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSB0aGUgbGF5ZXIgdmlzaWJsZSBieSBkZWZhdWx0LgogICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eTogJ3Zpc2libGUnLAogICAgICAgICAgICAgICAgICAgICAgJ2xpbmUtam9pbic6ICdyb3VuZCcsCiAgICAgICAgICAgICAgICAgICAgICAnbGluZS1jYXAnOiAncm91bmQnCiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBwYWludDogewogICAgICAgICAgICAgICAgICAgICAgJ2xpbmUtY29sb3InOiAnIzg3N2I1OScsCiAgICAgICAgICAgICAgICAgICAgICAnbGluZS13aWR0aCc6IDIwCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkU2hhcGVmaWxlOiBmdW5jdGlvbiBhZGRTaGFwZWZpbGUobmV3U2hhcGVmaWxlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgaWQsIGdldENyZWRlbnRpYWxzLCBwdXRGaWxlT25TMywgY3JlZGVudGlhbHMsIG15VXNlcm5hbWUsIG15VGlsZXNldDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy9hZGQgc2hhcGVmaWxlIHRvIGFycmF5IG9mIHNoYXBlZmlsZQogICAgICAgICAgICAgICAgaWQgPSBfdGhpcy5zaGFwZWZpbGUubGVuZ3RoOwogICAgICAgICAgICAgICAgbmV3U2hhcGVmaWxlLmlkID0gaWQ7CiAgICAgICAgICAgICAgICBfdGhpcy5zaGFwZWZpbGUgPSBbXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KF90aGlzLnNoYXBlZmlsZSksIFtuZXdTaGFwZWZpbGVdKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG5ld1NoYXBlZmlsZSwgX3RoaXMuc2hhcGVmaWxlKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGFydGluZyB1cGxvYWQuLi4nKTsKCiAgICAgICAgICAgICAgICBnZXRDcmVkZW50aWFscyA9IGZ1bmN0aW9uIGdldENyZWRlbnRpYWxzKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdXBsb2Fkc0NsaWVudC5jcmVhdGVVcGxvYWRDcmVkZW50aWFscygpLnNlbmQoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ib2R5OwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgcHV0RmlsZU9uUzMgPSBmdW5jdGlvbiBwdXRGaWxlT25TMyhjcmVkZW50aWFscykgewogICAgICAgICAgICAgICAgICB2YXIgczMgPSBuZXcgQVdTLlMzKHsKICAgICAgICAgICAgICAgICAgICBhY2Nlc3NLZXlJZDogY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQsCiAgICAgICAgICAgICAgICAgICAgc2VjcmV0QWNjZXNzS2V5OiBjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXksCiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblRva2VuOiBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgcmVnaW9uOiAndXMtZWFzdC0xJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgcmV0dXJuIHMzLnB1dE9iamVjdCh7CiAgICAgICAgICAgICAgICAgICAgQnVja2V0OiBjcmVkZW50aWFscy5idWNrZXQsCiAgICAgICAgICAgICAgICAgICAgS2V5OiBjcmVkZW50aWFscy5rZXksCiAgICAgICAgICAgICAgICAgICAgQm9keTogX3RoaXMuc2VsZWN0ZWRGaWxlCiAgICAgICAgICAgICAgICAgIH0pLnByb21pc2UoKTsKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIGdldENyZWRlbnRpYWxzKCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBwdXRGaWxlT25TMyhjcmVkZW50aWFscyk7CiAgICAgICAgICAgICAgICBteVVzZXJuYW1lID0gJ3lpcWluZ2dnZyc7CiAgICAgICAgICAgICAgICBteVRpbGVzZXQgPSAibXlUaWxlc2V0MCI7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjcmVkZW50aWFscyk7CiAgICAgICAgICAgICAgICB1cGxvYWRzQ2xpZW50LmNyZWF0ZVVwbG9hZCh7CiAgICAgICAgICAgICAgICAgIHRpbGVzZXQ6ICIiLmNvbmNhdChteVVzZXJuYW1lLCAiLiIpLmNvbmNhdChteVRpbGVzZXQpLAogICAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL3RpbGVzdHJlYW0tdGlsZXNldHMtcHJvZHVjdGlvbi5zMy5hbWF6b25hd3MuY29tL2Y5L19wZW5kaW5nL29qZHhiN3R5a3A4MngxczNuY2VxeXh0a2MveWlxaW5nZ2dnJywKICAgICAgICAgICAgICAgICAgbmFtZTogIlVQTE9BRDAiCiAgICAgICAgICAgICAgICB9KS5zZW5kKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZCA9IHJlc3BvbnNlLmJvZHk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHVwbG9hZCwgdXBsb2FkLnRpbGVzZXQpOwogICAgICAgICAgICAgICAgICB0aWxlc2V0aWQgPSB1cGxvYWQudGlsZXNldDsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hhcGVmaWxlW2lkXS51cGxvYWRJZCA9IHVwbG9hZC5pZDsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RvbmUnLCBfdGhpcy5zaGFwZWZpbGUpOyAvLyBhd2FpdCBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgdGhpcy5jcmVhdGVNYXBzKG5ld1NoYXBlZmlsZS5pZCk7CiAgICAgICAgICAgICAgICAvLyB9LCAxMDAwMCk7CiAgICAgICAgICAgICAgICAvLyBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHsKICAgICAgICAgICAgICAgIC8vICAgY29udGFpbmVyOiAnbWFwLWNvbXBvbmVudCcsIC8vIGNvbnRhaW5lciBJRAogICAgICAgICAgICAgICAgLy8gICBzdHlsZTogJ21hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12MTEnLCAvLyBzdHlsZSBVUkwKICAgICAgICAgICAgICAgIC8vICAgY2VudGVyOiBbLTEyMi4yNzI3ODEsIDM3Ljg3MTY2Nl0sIC8vIHN0YXJ0aW5nIHBvc2l0aW9uIFtsbmcsIGxhdF0KICAgICAgICAgICAgICAgIC8vICAgem9vbTogMTUsIC8vIHN0YXJ0aW5nIHpvb20KICAgICAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRpbGVzZXRpZCk7IC8vIG1hcC5vbignbG9hZCcsICgpID0+IHsKICAgICAgICAgICAgICAgIC8vICAgbWFwLmFkZFNvdXJjZSgncGFya3MnLCB7CiAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogJ3ZlY3RvcicsCiAgICAgICAgICAgICAgICAvLyAgICAgdXJsOiBgbWFwYm94Oi8veWlxaW5nZ2dnLm15VGlsZXNldDVgLAogICAgICAgICAgICAgICAgLy8gICB9KTsKICAgICAgICAgICAgICAgIC8vICAgbWFwLmFkZExheWVyKHsKICAgICAgICAgICAgICAgIC8vICAgICBpZDogJ3BhcmtzJywKICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiAnbGluZScsCiAgICAgICAgICAgICAgICAvLyAgICAgc291cmNlOiAncGFya3MnLAogICAgICAgICAgICAgICAgLy8gICAgICdzb3VyY2UtbGF5ZXInOiAnVVBMT0FENScsCiAgICAgICAgICAgICAgICAvLyAgICAgbGF5b3V0OiB7CiAgICAgICAgICAgICAgICAvLyAgICAgICAvLyBNYWtlIHRoZSBsYXllciB2aXNpYmxlIGJ5IGRlZmF1bHQuCiAgICAgICAgICAgICAgICAvLyAgICAgICB2aXNpYmlsaXR5OiAndmlzaWJsZScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAnbGluZS1qb2luJzogJ3JvdW5kJywKICAgICAgICAgICAgICAgIC8vICAgICAgICdsaW5lLWNhcCc6ICdyb3VuZCcsCiAgICAgICAgICAgICAgICAvLyAgICAgfSwKICAgICAgICAgICAgICAgIC8vICAgICBwYWludDogewogICAgICAgICAgICAgICAgLy8gICAgICAgJ2xpbmUtY29sb3InOiAnIzg3N2I1OScsCiAgICAgICAgICAgICAgICAvLyAgICAgICAnbGluZS13aWR0aCc6IDIwLAogICAgICAgICAgICAgICAgLy8gICAgIH0sCiAgICAgICAgICAgICAgICAvLyAgIH0pOwogICAgICAgICAgICAgICAgLy8gfSk7CiAgICAgICAgICAgICAgICAvLyBjb25zdCBtYXAgPSBuZXcgbWFwYm94Z2wuTWFwKHsKICAgICAgICAgICAgICAgIC8vICAgY29udGFpbmVyOiAnbWFwLWNvbXBvbmVudCcsIC8vIGNvbnRhaW5lciBJRAogICAgICAgICAgICAgICAgLy8gICBzdHlsZTogJ21hcGJveDovL3N0eWxlcy9tYXBib3gvc3RyZWV0cy12MTEnLCAvLyBzdHlsZSBVUkwKICAgICAgICAgICAgICAgIC8vICAgY2VudGVyOiBbLTEyMi4yNzI3ODEsIDM3Ljg3MTY2Nl0sIC8vIHN0YXJ0aW5nIHBvc2l0aW9uIFtsbmcsIGxhdF0KICAgICAgICAgICAgICAgIC8vICAgem9vbTogMTUsIC8vIHN0YXJ0aW5nIHpvb20KICAgICAgICAgICAgICAgIC8vIH0pOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRpbGVzZXRpZCk7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0gLy8gYXN5bmMgYWRkRW1wbG95ZWUoZW1wbG95ZWUpIHsKICAgIC8vICAgdHJ5IHsKICAgIC8vICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKAogICAgLy8gICAgICAgJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS91c2VycycsCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgLy8gICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShlbXBsb3llZSksCiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyB9LAogICAgLy8gICAgICAgfQogICAgLy8gICAgICk7CiAgICAvLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIC8vICAgICB0aGlzLmVtcGxveWVlcyA9IFsuLi50aGlzLmVtcGxveWVlcywgZGF0YV07CiAgICAvLyAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAvLyAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBhc3luYyBnZXRFbXBsb3llZXMoKSB7CiAgICAvLyAgIC8vIGNvbnN0IGxhc3RJZCA9CiAgICAvLyAgIC8vICAgdGhpcy5lbXBsb3llZXMubGVuZ3RoID4gMAogICAgLy8gICAvLyAgICAgPyB0aGlzLmVtcGxveWVlc1t0aGlzLmVtcGxveWVlcy5sZW5ndGggLSAxXS5pZAogICAgLy8gICAvLyAgICAgOiAwOwogICAgLy8gICAvLyBjb25zdCBpZCA9IGxhc3RJZCArIDE7CiAgICAvLyAgIC8vIGNvbnN0IG5ld0VtcGxveWVlID0geyAuLi5lbXBsb3llZSwgaWQgfTsKICAgIC8vICAgLy8gdGhpcy5lbXBsb3llZXMgPSBbLi4udGhpcy5lbXBsb3llZXMsIG5ld0VtcGxveWVlXTsKICAgIC8vICAgdHJ5IHsKICAgIC8vICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKAogICAgLy8gICAgICAgJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS91c2VycycKICAgIC8vICAgICApOwogICAgLy8gICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAvLyAgICAgdGhpcy5lbXBsb3llZXMgPSBkYXRhOwogICAgLy8gICB9IGNhdGNoIChlcnJvcikgewogICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gZGVsZXRlRW1wbG95ZWUoaWQpIHsKICAgIC8vICAgdGhpcy5lbXBsb3llZXMgPSB0aGlzLmVtcGxveWVlcy5maWx0ZXIoCiAgICAvLyAgICAgZW1wbG95ZWUgPT4gZW1wbG95ZWUuaWQgIT09IGlkCiAgICAvLyAgICkKICAgIC8vIH0sCiAgICAvLyBhc3luYyBkZWxldGVFbXBsb3llZShpZCkgewogICAgLy8gICB0cnkgewogICAgLy8gICAgIGF3YWl0IGZldGNoKGBodHRwczovL2pzb25wbGFjZWhvbGRlci50eXBpY29kZS5jb20vdXNlcnMvJHtpZH1gLCB7CiAgICAvLyAgICAgICBtZXRob2Q6ICdERUxFVEUnLAogICAgLy8gICAgIH0pOwogICAgLy8gICAgIHRoaXMuZW1wbG95ZWVzID0gdGhpcy5lbXBsb3llZXMuZmlsdGVyKAogICAgLy8gICAgICAgKGVtcGxveWVlKSA9PiBlbXBsb3llZS5pZCAhPT0gaWQKICAgIC8vICAgICApOwogICAgLy8gICB9IGNhdGNoIChlcnJvcikgewogICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgLy8gICB9CiAgICAvLyB9LAogICAgLy8gYXN5bmMgZWRpdEVtcGxveWVlKGlkLCB1cGRhdGVkRW1wbG95ZWUpIHsKICAgIC8vICAgLy8gdGhpcy5lbXBsb3llZXMgPSB0aGlzLmVtcGxveWVlcy5tYXAoZW1wbG95ZWUgPT4KICAgIC8vICAgLy8gICBlbXBsb3llZS5pZCA9PT0gaWQ/IHVwZGF0ZWRFbXBsb3llZSA6IGVtcGxveWVlCiAgICAvLyAgIC8vICkKICAgIC8vICAgdHJ5IHsKICAgIC8vICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKAogICAgLy8gICAgICAgYGh0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS91c2Vycy8ke2lkfWAsCiAgICAvLyAgICAgICB7CiAgICAvLyAgICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAvLyAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHVwZGF0ZWRFbXBsb3llZSksCiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uOyBjaGFyc2V0PVVURi04JyB9LAogICAgLy8gICAgICAgfQogICAgLy8gICAgICk7CiAgICAvLyAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKICAgIC8vICAgICB0aGlzLmVtcGxveWVlcyA9IHRoaXMuZW1wbG95ZWVzLm1hcCgoZW1wbG95ZWUpID0+CiAgICAvLyAgICAgICBlbXBsb3llZS5pZCA9PT0gaWQgPyBkYXRhIDogZW1wbG95ZWUKICAgIC8vICAgICApOwogICAgLy8gICB9IGNhdGNoIChlcnJvcikgewogICAgLy8gICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgLy8gICB9CiAgICAvLyB9LAoKICB9Cn07"},{"version":3,"sources":["App.vue"],"names":[],"mappings":"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AAA,OAAA,CAAA,GAAA,CAAA,WAAA;AACA,gBAAA,aAAA,CACA,YADA,CACA;AACA,kBAAA,OAAA,YAAA,UAAA,cAAA,SAAA,CADA;AAEA,kBAAA,GAAA,EACA,yGAHA;AAIA,kBAAA,IAAA;AAJA,iBADA,EAOA,IAPA,GAQA,IARA,CAQA,UAAA,QAAA,EAAA;AACA,sBAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,MAAA,CAAA,OAAA;AACA,kBAAA,SAAA,GAAA,MAAA,CAAA,OAAA;AACA,kBAAA,KAAA,CAAA,SAAA,CAAA,EAAA,EAAA,QAAA,GAAA,MAAA,CAAA,EAAA;AACA,iBAbA;AAcA,gBAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA,CAAA,SAAA,EA/CA,CAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,SAAA,EA1DA,CA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,SAAA;;AAvFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwFA,KAxHA,CAyHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAhMA;AAXA,CAAA","sourcesContent":["<template>\n  <div id=\"app\" class=\"small-container\">\n    <h1>Visualize a Shapefile from Berkeley</h1>\n\n    <shapefile-form @add:shapefile=\"addShapefile\" />\n    <div id=\"map-component\" />\n    <shapefile-table :shapefile=\"shapefile\" />\n  </div>\n</template>\n\n<script>\nlet tilesetid;\nconst MY_ACCESS_TOKEN =\n  'sk.eyJ1IjoieWlxaW5nZ2dnIiwiYSI6ImNrdHhma3ZiYzBrMXQybnRoemFkOTlhMW4ifQ.Fe0XhvYKsc5A9MmE8xD7OQ';\nconst mbxUploads = require('@mapbox/mapbox-sdk/services/uploads');\nconst mbxClient = require('@mapbox/mapbox-sdk');\nconst baseClient = mbxClient({ accessToken: MY_ACCESS_TOKEN });\nconst uploadsClient = mbxUploads(baseClient);\n// let uploadId;\nimport mapboxgl from 'mapbox-gl';\nconst AWS = require('aws-sdk');\nmapboxgl.accessToken =\n  'pk.eyJ1IjoieWlxaW5nZ2dnIiwiYSI6ImNrdHkwM2w1cTJ5dWgydnBtdWx4MXFlN3EifQ.WoSz2Zn-h7SkdDmouxC0XQ';\nimport ShapefileTable from '@/components/ShapefileTable.vue';\nimport ShapefileForm from '@/components/ShapefileForm.vue';\nexport default {\n  name: 'app',\n  components: {\n    ShapefileForm,\n    ShapefileTable,\n  },\n  data() {\n    return {\n      shapefile: [],\n    };\n  },\n  methods: {\n    async createMaps(newShapefileId) {\n      console.log(newShapefileId);\n      const map = new mapboxgl.Map({\n        container: 'map-component', // container ID\n        style: 'mapbox://styles/mapbox/streets-v11', // style URL\n        center: [-122.272781, 37.871666], // starting position [lng, lat]\n        zoom: 15, // starting zoom\n      });\n      map.on('load', () => {\n        map.addSource('parks', {\n          type: 'vector',\n          url: `mapbox://yiqingggg.myTileset2`,\n        });\n        map.addLayer({\n          id: 'parks',\n          type: 'line',\n          source: 'parks',\n          'source-layer': `JMLQ UPLOAD1`,\n          layout: {\n            // Make the layer visible by default.\n            visibility: 'visible',\n            'line-join': 'round',\n            'line-cap': 'round',\n          },\n          paint: {\n            'line-color': '#877b59',\n            'line-width': 20,\n          },\n        });\n      });\n    },\n    async addShapefile(newShapefile) {\n      //add shapefile to array of shapefile\n      const id = this.shapefile.length;\n      newShapefile.id = id;\n      this.shapefile = [...this.shapefile, newShapefile];\n      console.log(newShapefile, this.shapefile);\n      console.log('starting upload...');\n      const getCredentials = () => {\n        return uploadsClient\n          .createUploadCredentials()\n          .send()\n          .then((response) => response.body);\n      };\n      const putFileOnS3 = (credentials) => {\n        const s3 = new AWS.S3({\n          accessKeyId: credentials.accessKeyId,\n          secretAccessKey: credentials.secretAccessKey,\n          sessionToken: credentials.sessionToken,\n          region: 'us-east-1',\n        });\n        return s3\n          .putObject({\n            Bucket: credentials.bucket,\n            Key: credentials.key,\n            Body: this.selectedFile,\n          })\n          .promise();\n      };\n      const credentials = await getCredentials();\n      putFileOnS3(credentials);\n      const myUsername = 'yiqingggg';\n      const myTileset = `myTileset0`;\n      console.log(credentials);\n      uploadsClient\n        .createUpload({\n          tileset: `${myUsername}.${myTileset}`,\n          url:\n            'https://tilestream-tilesets-production.s3.amazonaws.com/f9/_pending/ojdxb7tykp82x1s3nceqyxtkc/yiqingggg',\n          name: `UPLOAD0`,\n        })\n        .send()\n        .then((response) => {\n          const upload = response.body;\n          console.log(upload, upload.tileset);\n          tilesetid = upload.tileset;\n          this.shapefile[id].uploadId = upload.id;\n        });\n      console.log('done', this.shapefile);\n\n      // await setTimeout(() => {\n      //   this.createMaps(newShapefile.id);\n      // }, 10000);\n      // const map = new mapboxgl.Map({\n      //   container: 'map-component', // container ID\n      //   style: 'mapbox://styles/mapbox/streets-v11', // style URL\n      //   center: [-122.272781, 37.871666], // starting position [lng, lat]\n      //   zoom: 15, // starting zoom\n      // });\n      console.log(tilesetid);\n      // map.on('load', () => {\n      //   map.addSource('parks', {\n      //     type: 'vector',\n      //     url: `mapbox://yiqingggg.myTileset5`,\n      //   });\n      //   map.addLayer({\n      //     id: 'parks',\n      //     type: 'line',\n      //     source: 'parks',\n      //     'source-layer': 'UPLOAD5',\n      //     layout: {\n      //       // Make the layer visible by default.\n      //       visibility: 'visible',\n      //       'line-join': 'round',\n      //       'line-cap': 'round',\n      //     },\n      //     paint: {\n      //       'line-color': '#877b59',\n      //       'line-width': 20,\n      //     },\n      //   });\n      // });\n      // const map = new mapboxgl.Map({\n      //   container: 'map-component', // container ID\n      //   style: 'mapbox://styles/mapbox/streets-v11', // style URL\n      //   center: [-122.272781, 37.871666], // starting position [lng, lat]\n      //   zoom: 15, // starting zoom\n      // });\n      console.log(tilesetid);\n    },\n    // async addEmployee(employee) {\n    //   try {\n    //     const response = await fetch(\n    //       'https://jsonplaceholder.typicode.com/users',\n    //       {\n    //         method: 'POST',\n    //         body: JSON.stringify(employee),\n    //         headers: { 'Content-type': 'application/json; charset=UTF-8' },\n    //       }\n    //     );\n    //     const data = await response.json();\n    //     this.employees = [...this.employees, data];\n    //   } catch (error) {\n    //     console.error(error);\n    //   }\n    // },\n    // async getEmployees() {\n    //   // const lastId =\n    //   //   this.employees.length > 0\n    //   //     ? this.employees[this.employees.length - 1].id\n    //   //     : 0;\n    //   // const id = lastId + 1;\n    //   // const newEmployee = { ...employee, id };\n    //   // this.employees = [...this.employees, newEmployee];\n    //   try {\n    //     const response = await fetch(\n    //       'https://jsonplaceholder.typicode.com/users'\n    //     );\n    //     const data = await response.json();\n    //     this.employees = data;\n    //   } catch (error) {\n    //     console.error(error);\n    //   }\n    // },\n    // deleteEmployee(id) {\n    //   this.employees = this.employees.filter(\n    //     employee => employee.id !== id\n    //   )\n    // },\n    // async deleteEmployee(id) {\n    //   try {\n    //     await fetch(`https://jsonplaceholder.typicode.com/users/${id}`, {\n    //       method: 'DELETE',\n    //     });\n    //     this.employees = this.employees.filter(\n    //       (employee) => employee.id !== id\n    //     );\n    //   } catch (error) {\n    //     console.error(error);\n    //   }\n    // },\n    // async editEmployee(id, updatedEmployee) {\n    //   // this.employees = this.employees.map(employee =>\n    //   //   employee.id === id? updatedEmployee : employee\n    //   // )\n    //   try {\n    //     const response = await fetch(\n    //       `https://jsonplaceholder.typicode.com/users/${id}`,\n    //       {\n    //         method: 'PUT',\n    //         body: JSON.stringify(updatedEmployee),\n    //         headers: { 'Content-type': 'application/json; charset=UTF-8' },\n    //       }\n    //     );\n    //     const data = await response.json();\n    //     this.employees = this.employees.map((employee) =>\n    //       employee.id === id ? data : employee\n    //     );\n    //   } catch (error) {\n    //     console.error(error);\n    //   }\n    // },\n  },\n};\n</script>\n\n<style>\nbutton {\n  background: #009435;\n  border: 1px solid #009435;\n}\n.small-container {\n  max-width: 680px;\n}\n</style>\n"],"sourceRoot":"src"}]}